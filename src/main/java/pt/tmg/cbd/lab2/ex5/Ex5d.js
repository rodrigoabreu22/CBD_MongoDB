capicua = function (){
    return db.phones.find({"display":{$regex: "^\\+351-(\\d)(\\d)(\\d)(\\d)\\d\\4\\3\\2\\1$"}},{"_id":0,"display":1})
}

capicua().forEach(printjson);

//output
/*
{
  display: '+351-210020012'
}
{
  display: '+351-233030332'
}
{
  display: '+351-234040432'
}
{
  display: '+351-220050022'
}
{
  display: '+351-210060012'
}
{
  display: '+351-233060332'
}
{
  display: '+351-232070232'
}
{
  display: '+351-220080022'
}
{
  display: '+351-232090232'
}
{
  display: '+351-231111132'
}
{
  display: '+351-210121012'
}
{
  display: '+351-231121132'
}
{
  display: '+351-234121432'
}
{
  display: '+351-220131022'
}
{
  display: '+351-232141232'
}
{
  display: '+351-232151232'
}
{
  display: '+351-233151332'
}
{
  display: '+351-232161232'
}
{
  display: '+351-220171022'
}
{
  display: '+351-231171132'
}
{
  display: '+351-233171332'
}
{
  display: '+351-234171432'
}
{
  display: '+351-220181022'
}
{
  display: '+351-232191232'
}
{
  display: '+351-233191332'
}
 */


get_all_phones = function(){
    var phone_numbers = [];
    const display_numbers = db.phones.find({}, { _id: 0, display: 1 });
    display_numbers.forEach((phone) => {
        let phone_str = phone["display"].slice(5);
        phone_numbers.push(phone_str);
    })
    return phone_numbers;
}

digitos_nao_repetido = function(data){
    var phoneNumbers = get_all_phones();
    var validNumbers = []
    phoneNumbers.forEach(number => {
        let number_split = number.split("");
        let number_set = new Set(number_split);
        if (number_set.size==number_split.length){
            validNumbers.push(number);
        }
    })
    return validNumbers;
}

digitos_nao_repetido().forEach(number => {print(number)})
//output
/*
* 234015786
234015798
234015867
234015876
234015879
234015897
234015967
234016759
234016958
234016978
234016987
234017659
234017685
234017895
234018579
234018695
234018756
234019576
234019856
234019875
231045679
231045698
231045796
231045968
231046579
231046589
231046785
231046789
231046957
231047568
231047589
231047596
231047865
231047985
231048675
231048679
231048956
231049568
231049586
231049685
231049768
231049865
231049875
234051687
234051896
234051986
234051987
231054678
231054679
231054768
231054769
231054896
231054967
231054978
231054986
234056179
234056187
231056497
234056897
231056987
231057469
231057498
234057619
231057648
231057694
234057698
234057816
234057869
231057894
231057896
231057986
234058169
234058197
234058679
234058691
234058916
234058967
231059846
234061579
234061598
234061879
234061957
234061978
231064598
231064789
231064795
231064987
234065718
231065748
234065781
234065817
231065849
231065874
234065879
231065974
231065984
234067158
234067159
231067589
231067859
231067894
234067895
231067958
234067981
231067984
234068159
231068459
231068479
234068519
231068594
234068917
234068957
234068971
234069178
231069457
231069478
231069785
234069857
234071598
234071698
231074568
231074658
231074896
231074985
231074986
234075198
234075891
231075968
234075986
234076185
234076198
231076458
231076549
231076589
234076859
231076894
234076915
234076951
234078165
234078195
231078456
231078469
234078591
234078596
234078615
231078694
234078916
231078954
234079168
231079458
234079681
231079864
234081597
234081967
231084659
231084765
231084967
231084975
234085196
231085479
231085697
231085749
231085769
231085794
234085917
234085967
231085976
234086157
234086159
234086175
231086479
234086759
231086794
231086974
234086975
234087165
234087195
234087196
231087459
231087496
234087519
231087594
231087596
234087695
234087915
234087916
234087951
231087965
234089167
234089576
234089617
231089647
234089751
234091658
234091765
231094658
231094675
231094756
231095487
231095647
231095684
231095687
234095781
231095876
234096157
234096158
231096485
231096487
231096548
231096745
231096748
231096754
234096815
234096817
234096857
231096874
231097548
231097564
231097568
234097615
231097685
234097816
234097856
231097865
234098165
234098167
231098457
231098475
234098516
234098651
231098675
231098746
231098764
234105678
234105689
234105786
234105798
234106597
234106798
234106857
234106879
234106957
234106978
234106987
234107956
234108576
234108769
234108975
234109567
234109586
234150689
234150768
234150789
234150976
234150987
234156097
234156879
234156890
234156970
234156980
234157806
234157809
234157869
234157890
234158069
234158906
234158907
234159068
234159076
234159078
234159607
234159670
234160758
234160789
234160795
234160859
234160975
234165079
234165097
234165098
234167085
234167589
234167590
234167908
234168079
234168509
234168750
234168790
234168795
234168975
234169507
234169580
234169780
234169785
234169805
234170589
234170596
234170658
234170659
234170896
234170985
234170986
234175096
234175689
234175890
234175906
234175986
234176509
234176809
234176985
234178065
234178509
234178560
234178659
234178690
234179056
234179086
234179506
234179805
234179865
234180579
234180679
234185609
234185760
234185796
234185970
234186059
234186570
234186907
234186970
234187095
234187096
234187609
234187956
234187965
234190578
234190586
234190587
234190657
234190678
234190765
234190785
234190856
234190857
234190865
234195068
234195086
234195806
234195876
234196508
234196570
234196580
234196708
234196807
234197058
234197580
234197685
234197805
234197860
234198057
234198570
234198605
*/